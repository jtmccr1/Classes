---
title: "Gun Availability and Crime"
author: "JT McCrone"
date: "09/28/2014"
output: html_document
---

The goal of this report is to explore data on gun availability crime rate as provided originally at  [this student resource site](http://wps.aw.com/aw_stock_ie_2/0,12040,3332253-,00.html) for the book Stock & Watson (2011) Introduction to Econometrics (Addison-Wesley).  

### Loading packages and data

First I will load the packages I will be using in the exploration.

```{r}
require(ggplot2)
require(plyr)
require(reshape2)
```

Next I load the data.
```{r,load-data,cache=TRUE}
course.url <- "http://kinglab.eeb.lsa.umich.edu/480"
datafile <- paste(course.url,"data/guns.csv",sep='/')
dat <- read.csv(datafile,comment.char="#",
                colClasses=c(state='factor',law='factor'))
sapply(dat,class)
head(dat)
```

### Examining the data.

We know from the file heading that data is inlcuded for each state in the union as well as Washington D.C. for each year from 1977-1999.  The rates of violent crimes, murder, and robbery are provided as incidents per 10^5 individuals in the population.  Afam, cauc, and male refer to the percentage of the population that is African American(ages 10-64), Caucasion(ages 10-64) and male(ages 10-29) respectively.  Income refers to the per capita income and density is population density in thousand/square mile.  Finally, law refers to the presence (yes) or absence (no) of a shall issue concealed carry law in effect.  

Before I begin plotting the data I think it would be useful to reshape the data into a long format where one columne contains all the crime data.  It might also be usefull down the line to have the population percentages as one variable as well.  We'll see if I keep that though.  I'm not sure if I will at this point.

```{r}




```

### Looking at rates 
I'll start by looking at the crime rates across the years stratified by .....


```{r}
dat<-rename(dat,c(law='concealed_carry'))
head(dat)
pl<-ggplot(data=dat,mapping=aes(x=year,y=violent,group=state,color=concealed_carry))+geom_line()
print(pl)






```



